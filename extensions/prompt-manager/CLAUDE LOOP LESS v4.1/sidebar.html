<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Prompt Manager</title>
</head>
<body>
    <div id="promptmanager-content">
        <div class="header-with-logo">
            <img id="header-logo" src="icons/iconLOGO.png" alt="Claude LoopLess Logo" class="header-logo">
            <div class="header-text">
                <h1>Claude LoopLess 4.1</h1>
                <p class="tagline">Distribu√≠do por LoopLess | Desenvolvido por Nardoto</p>
            </div>
        </div>

        <div class="channel-section">
            <label class="section-label">Canal de Trabalho</label>
            <div class="channel-container">
                <select id="channelSelect" class="channel-select"></select>
                <div class="channel-actions">
                    <button id="newChannelBtn" class="icon-btn" title="Novo Canal">+</button>
                    <button id="duplicateChannelBtn" class="icon-btn" title="Duplicar Canal">‚ßâ</button>
                    <button id="editChannelBtn" class="icon-btn" title="Editar Canal">‚úé</button>
                    <button id="deleteChannelBtn" class="icon-btn danger" title="Excluir Canal">√ó</button>
                </div>
            </div>
        </div>

        <div class="category-section">
            <label class="section-label">Categoria de Prompts</label>
            <div class="category-container">
                <select id="categorySelect" class="category-select"></select>
                <div class="category-actions">
                    <button id="newCategoryBtn" class="icon-btn" title="Nova Categoria">+</button>
                    <button id="duplicateCategoryBtn" class="icon-btn" title="Duplicar Categoria">‚ßâ</button>
                    <button id="editCategoryBtn" class="icon-btn" title="Editar Categoria">‚úé</button>
                    <button id="deleteCategoryBtn" class="icon-btn danger" title="Excluir Categoria">√ó</button>
                </div>
            </div>
        </div>

        <!-- Gerenciamento de Dados -->
        <div class="data-management">
            <div class="data-actions">
                <button id="exportBtn" class="data-btn export-btn" title="Exportar Dados">Exportar</button>
                <button id="importBtn" class="data-btn import-btn" title="Importar Dados">Importar</button>
                <button id="settingsBtn" class="settings-btn-small" title="Configura√ß√µes">‚öô</button>
            </div>
            <input type="file" id="importFile" accept=".json" style="display: none;">
        </div>

        <!-- Configura√ß√µes de Sequ√™ncia -->
        <div class="sequence-config">
            <div class="config-row">
                <label>
                    <input type="checkbox" id="autoPlayMode" class="toggle-switch"> Modo Auto Play
                </label>
            </div>
            <div id="autoPlaySettings" class="auto-play-settings" style="display: none;">
                <div class="config-row">
                    <label for="sequenceWaitTime">Tempo de espera (segundos):</label>
                    <input type="number" id="sequenceWaitTime" min="2" max="60" value="10" class="time-input">
                </div>
                <div class="sequence-controls">
                    <button id="startSequenceBtn" class="sequence-btn primary">
                        <span class="btn-icon">‚ñ∂</span>
                        <span class="btn-text">Iniciar Sequ√™ncia</span>
                    </button>
                    <button id="pauseSequenceBtn" class="sequence-btn warning" style="display: none;">
                        <span class="btn-icon">‚è∏</span>
                        <span class="btn-text">Pausar</span>
                    </button>
                    <button id="stopSequenceBtn" class="sequence-btn danger" style="display: none;">
                        <span class="btn-icon">‚èπ</span>
                        <span class="btn-text">Parar</span>
                    </button>
                </div>
                <div id="sequenceProgress" class="sequence-progress" style="display: none;">
                    <div class="progress-info">
                        <span id="progressText">Preparando...</span>
                        <span id="progressCount">0/0</span>
                    </div>
                    <div class="progress-bar">
                        <div id="progressFill" class="progress-fill"></div>
                    </div>
                    <div id="sequenceStatus" class="sequence-status"></div>
                </div>
            </div>
        </div>

        <div class="new-prompt-container">
            <button id="newPromptBtn" class="primary-btn">
                ‚úé Novo Prompt
            </button>
        </div>

        <div id="promptForm" class="prompt-form hidden">
            <input type="text" id="promptName" placeholder="Nome do prompt..." />
            <textarea id="promptText" placeholder="Digite seu prompt aqui..."></textarea>
            <div class="form-buttons">
                <button id="savePromptBtn" class="success-btn">Salvar</button>
                <button id="cancelPromptBtn" class="secondary-btn">Cancelar</button>
            </div>
        </div>

        <!-- Sistema de Busca Compacto -->
        <div class="compact-search">
            <button id="searchToggleBtn" class="search-toggle-btn" title="Buscar prompts">üîç</button>
            <input type="text" id="promptSearch" placeholder="Digite para buscar..." class="compact-search-input hidden">
            <div id="searchResults" class="search-results-popup hidden"></div>
        </div>

        <div id="promptsList" class="prompts-list"></div>

        <!-- Bulk Sender (aparece quando canal "Envio em Massa" √© selecionado) -->
        <div id="bulkSenderContainer" class="bulk-sender-container hidden">
            <div class="bulk-sender-content">
                <h3 class="bulk-sender-title">üì§ Envio em Massa</h3>
                <p class="bulk-sender-description">Cole seus prompts abaixo. Separe cada prompt com uma linha em branco.</p>

                <div class="bulk-textarea-container">
                    <textarea id="bulkPromptsInput" class="bulk-prompts-textarea"
                              placeholder="Cole seus prompts aqui... Separe cada prompt com uma linha em branco.&#10;&#10;Exemplo:&#10;&#10;Primeiro prompt aqui&#10;&#10;Segundo prompt aqui&#10;&#10;Terceiro prompt aqui"></textarea>
                </div>

                <div class="bulk-info">
                    <span id="bulkPromptCount">0 prompts detectados</span>
                </div>

                <div class="bulk-controls">
                    <button id="startBulkSendBtn" class="sequence-btn primary" disabled>
                        <span class="btn-icon">‚ñ∂</span>
                        <span class="btn-text">Enviar Sequ√™ncia</span>
                    </button>
                    <button id="stopBulkSendBtn" class="sequence-btn danger" style="display: none;">
                        <span class="btn-icon">‚èπ</span>
                        <span class="btn-text">Parar</span>
                    </button>
                </div>

                <div id="bulkProgress" class="sequence-progress" style="display: none;">
                    <div class="progress-info">
                        <span id="bulkProgressText">Preparando...</span>
                        <span id="bulkProgressCount">0/0</span>
                    </div>
                    <div class="progress-bar">
                        <div id="bulkProgressFill" class="progress-fill"></div>
                    </div>
                    <div id="bulkStatus" class="sequence-status"></div>
                </div>
            </div>
        </div>

        <div class="stats-container">
            <div class="stat-item"><span id="promptCount">0</span> prompts</div>
            <div class="stat-item"><span id="categoryCount">0</span> categorias</div>
            <div class="stat-item"><span id="usedCount">0</span> enviados</div>
        </div>

        <div id="settingsModal" class="modal hidden">
            <div class="modal-content">
                <h3>Configura√ß√µes</h3>
                <div class="setting-group">
                    <label>Tamanho da Sidebar:</label>
                    <select id="sidebarSize">
                        <option value="small">Pequena (300px)</option>
                        <option value="medium" selected>M√©dia (400px)</option>
                        <option value="large">Grande (500px)</option>
                    </select>
                </div>
                <div class="setting-group">
                    <label>Tema:</label>
                    <select id="theme">
                        <option value="light">Claro</option>
                        <option value="dark">Escuro</option>
                        <option value="auto">Autom√°tico</option>
                    </select>
                </div>
                <div class="setting-group">
                    <label>
                        <input type="checkbox" id="autoInsertChk" checked>
                        Auto inserir prompt ao clicar
                    </label>
                </div>
                <div class="modal-buttons">
                    <button id="saveSettingsBtn" class="success-btn">Salvar</button>
                    <button id="resetSettingsBtn" class="danger-btn">Resetar</button>
                    <button id="clearDataBtn" class="danger-btn">Limpar Dados</button>
                    <button id="closeSettingsBtn" class="secondary-btn">Fechar</button>
                </div>
            </div>
        </div>

        <div id="sequenceResultsModal" class="modal hidden">
            <div class="modal-content large">
                <h3>Resultados da Sequ√™ncia</h3>
                <div class="results-container">
                    <textarea id="sequenceResultsText" readonly></textarea>
                </div>
                <div class="modal-buttons">
                    <button id="copyResultsBtn" class="success-btn">Copiar Tudo</button>
                    <button id="closeResultsBtn" class="secondary-btn">Fechar</button>
                </div>
            </div>
        </div>
        
        <!-- Preview em Tempo Real -->
        <div class="realtime-preview-section">
            <h3 class="preview-title">
                <span class="preview-icon">üìù</span>
                Preview em Tempo Real
            </h3>
            <textarea id="realtimePreview" class="realtime-preview-textarea" 
                      placeholder="As respostas aparecer√£o aqui conforme forem coletadas..."></textarea>
            <div class="preview-actions">
                <button id="clearPreviewBtn" class="secondary-btn small">Limpar</button>
	        <button id="copyPreviewBtn" class="secondary-btn small">Copiar</button>
	        <button id="exportTxtBtn" class="primary-btn small">Exportar TXT</button>
 	   </div>
	</div>

        <div id="statusContainer" class="status-container hidden">
            <span id="statusText"></span>
        </div>

        <!-- Modal de Exporta√ß√£o -->
        <div id="exportModal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Exportar Dados</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="export-options">
                        <label class="radio-option">
                            <input type="radio" name="exportType" value="all" checked>
                            <span>Todos os dados</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="exportType" value="channel">
                            <span>Canal espec√≠fico:</span>
                            <select id="exportChannelSelect" class="export-select"></select>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="exportType" value="category">
                            <span>Categoria espec√≠fica:</span>
                            <select id="exportCategorySelect" class="export-select"></select>
                        </label>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="confirmExportBtn" class="primary-btn">Exportar</button>
                    <button id="cancelExportBtn" class="secondary-btn">Cancelar</button>
                </div>
            </div>
        </div>

        <!-- Modal de Importa√ß√£o -->
        <div id="importModal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Importar Dados</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <div id="importPreview" class="import-preview"></div>
                    <div class="import-options hidden">
                        <h4>Selecione o que importar:</h4>
                        <div id="importCheckboxes" class="import-checkboxes"></div>
                        <div class="import-mode">
                            <label class="checkbox-option">
                                <input type="checkbox" id="replaceExisting" checked>
                                <span>Substituir existentes (recomendado)</span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="confirmImportBtn" class="primary-btn hidden">Importar Selecionados</button>
                    <button id="cancelImportBtn" class="secondary-btn">Cancelar</button>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>Claude LoopLess 4.1</p>
        </div>
    </div>
    <div id="copyPromptModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Copiar Prompt Para...</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="setting-group">
                    <label for="copyChannelSelect">Selecione o Canal de Destino:</label>
                    <select id="copyChannelSelect"></select>
                </div>
                <div class="setting-group">
                    <label for="copyCategorySelect">Selecione a Categoria de Destino:</label>
                    <select id="copyCategorySelect"></select>
                </div>
                 <div class="setting-group">
                    <label for="copyPromptName">Novo nome do prompt (opcional):</label>
                    <input type="text" id="copyPromptName" placeholder="Deixe em branco para manter o nome original"/>
                </div>
            </div>
            <div class="modal-footer">
                <button id="confirmCopyBtn" class="primary-btn">Copiar</button>
                <button id="cancelCopyBtn" class="secondary-btn">Cancelar</button>
            </div>
        </div>
    </div>
</body>
</html>